import time
from locust import HttpUser, task, between
import random
skills = [{"slug":"optimization","title":"최적화"},{"slug":"react-native","title":"리액트 네이티브"},{"slug":"ci-cd","title":"지속적 통합과 배포"},{"slug":"agile","title":"애자일"},{"slug":"cross-browsing","title":"크로스 브라우징"},{"slug":"i18n","title":"국제화"},{"slug":"computer-science","title":"컴퓨터 과학"},{"slug":"backend","title":"백엔드"},{"slug":"linux","title":"리눅스"},{"slug":"seo","title":"검색 엔진 최적화"},{"slug":"react-query","title":"리액트 쿼리"},{"slug":"build-tool","title":"빌드 도구"},{"slug":"webpack","title":"웹팩"},{"slug":"vite","title":"Vite 비트"},{"slug":"bundler","title":"번들러"},{"slug":"open-source","title":"오픈 소스"},{"slug":"design-tool","title":"디자인 도구"},{"slug":"functional","title":"함수형"},{"slug":"figma","title":"피그마"},{"slug":"code-review","title":"코드 리뷰"},{"slug":"storybook","title":"스토리북"},{"slug":"design-system","title":"디자인 시스템"},{"slug":"graph-ql","title":"GraphQL 그래프큐엘"},{"slug":"testing-library","title":"테스팅 라이브러리"},{"slug":"vue","title":"뷰"},{"slug":"svelte","title":"스벨트"},{"slug":"react","title":"리액트"},{"slug":"state-management","title":"프런트엔드 상태 관리"},{"slug":"redux","title":"리덕스"},{"slug":"web-standard","title":"웹 표준"},{"slug":"html","title":"HTML: 하이퍼 텍스트 마크업 언어"},{"slug":"semantic-html","title":"시맨틱 HTML"},{"slug":"spa-framework","title":"SPA 프레임워크"},{"slug":"css","title":"CSS 캐스케이딩 스타일 시트"},{"slug":"javascript","title":"자바스크립트"},{"slug":"static-type","title":"정적 타입"},{"slug":"py-type-hint","title":"파이썬 타입 힌트"},{"slug":"typescript","title":"타입스크립트"},{"slug":"nest-js","title":"NestJS"},{"slug":"serverless","title":"서버리스"},{"slug":"type-orm","title":"TypeORM"},{"slug":"sass","title":"SASS"},{"slug":"ssr","title":"SSR"},{"slug":"network","title":"네트워크"},{"slug":"web-api","title":"웹 API"},{"slug":"socket","title":"소켓 통신"},{"slug":"socket-io","title":"socket io"},{"slug":"restful-api","title":"RESTful API"},{"slug":"git","title":"깃"},{"slug":"github","title":"깃허브"},{"slug":"remix","title":"리믹스"},{"slug":"next-js","title":"넥스트js"},{"slug":"test","title":"테스트"},{"slug":"tdd","title":"테스트 주도 개발"},{"slug":"cloud","title":"클라우드"},{"slug":"aws","title":"아마존 웹 서비스"},{"slug":"aws-rds","title":"AWS RDS"},{"slug":"english","title":"영어"},{"slug":"database","title":"데이터베이스"},{"slug":"database-tuning","title":"데이터베이스 성능 튜닝"},{"slug":"rdbms","title":"관계형 데이터베이스"},{"slug":"orm","title":"ORM 객체 관계 매퍼"},{"slug":"jpa","title":"JPA: Java Persistence API"},{"slug":"large-traffic","title":"대용량 트래픽 처리"},{"slug":"docker","title":"도커"},{"slug":"msa","title":"마이크로 서비스 아키텍처"},{"slug":"kubernetes","title":"쿠버네티스"},{"slug":"sqlite","title":"SQLite"},{"slug":"mysql","title":"MySQL, MariaDB"},{"slug":"postgresql","title":"PostgreSQL"},{"slug":"no-sql-db","title":"NoSQL 데이터베이스"},{"slug":"key-value-db","title":"키-값 데이터베이스"},{"slug":"redis","title":"레디스"},{"slug":"dynamodb","title":"DynamoDB"},{"slug":"dragonfly","title":"드래곤플라이"},{"slug":"document-db","title":"문서 데이터베이스"},{"slug":"mongodb","title":"몽고 DB"},{"slug":"search-db","title":"검색 데이터베이스"},{"slug":"graph-db","title":"그래프 데이터베이스"},{"slug":"pr-lang","title":"프로그래밍 언어"},{"slug":"python","title":"파이썬"},{"slug":"django","title":"장고"},{"slug":"java","title":"자바"},{"slug":"web-server","title":"웹 서버"},{"slug":"spring","title":"스프링"},{"slug":"async","title":"비동기"},{"slug":"spring-webflux","title":"스프링 웹플럭스"},{"slug":"kotlin","title":"코틀린"},{"slug":"scala","title":"스칼라"},{"slug":"clojure","title":"클로저"},{"slug":"wasm","title":"웹 어셈블리"},{"slug":"rescript","title":"리스크립트"},{"slug":"js-runtime","title":"js 런타임"},{"slug":"nodejs","title":"노드js"},{"slug":"deno","title":"디노"},{"slug":"angular","title":"앵귤러"},{"slug":"architecture","title":"아키텍처"},{"slug":"collaboration","title":"협업"},{"slug":"esbuild","title":"esbuild"},{"slug":"rollup","title":"Rollup 롤업"},{"slug":"canvas","title":"캔버스"},{"slug":"webgl","title":"웹GL"},{"slug":"mobx","title":"MobX"},{"slug":"jotai","title":"Jotai"},{"slug":"tanstack-query","title":"Tanstack Query"},{"slug":"observability","title":"관측 가능성"},{"slug":"monitoring","title":"모니터링"},{"slug":"logging","title":"로깅"},{"slug":"alert","title":"알람"},{"slug":"event-driven","title":"EDA: 이벤트 주도 아키텍처"},{"slug":"aws-sqs","title":"AWS SQS"},{"slug":"kafka","title":"카프카"},{"slug":"documentation","title":"문서화"},{"slug":"web-security","title":"웹 보안"}]

class HelloWorldUser(HttpUser):
    wait_time = between(0.5, 10)
    @task
    def list_select(self):
        self.client.get("/skills?_data=routes%2Fskills%2Findex")
        slug = random.choice(skills)["slug"]
        self.client.get(f"/skills/{slug}?_data=routes%2Fskills%2F%24slug")

    @task(3)
    def view_items(self):
        for skill in random.sample(skills, 10):
            slug = skill["slug"]
            self.client.get(f"/skills/{slug}?_data=routes%2Fskills%2F%24slug")